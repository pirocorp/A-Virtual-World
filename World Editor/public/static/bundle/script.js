(()=>{"use strict";function t(t,e){t.clearRect(0,0,e.width,e.height)}var e,n,s;!function(t){t.Aqua="Aqua",t.Black="Black",t.Blue="Blue",t.Fuchsia="Fuchsia",t.Gray="Gray",t.Green="Green",t.Lime="Lime",t.Maroon="Maroon",t.Navy="Navy",t.Olive="Olive",t.Purple="Purple",t.Random="Random",t.Red="Red",t.Silver="Silver",t.Teal="Teal",t.White="White",t.Yellow="Yellow"}(e||(e={}));class i{constructor(t,e){this._x=t,this._y=e}get x(){return this._x}get y(){return this._y}equals(t){return this._x===t.x&&this._y===t.y}draw(t,n=18,s=e.Black){const i=n/2;t.beginPath(),t.fillStyle=s,t.arc(this._x,this._y,i,0,2*Math.PI),t.fill()}}class o{constructor(t,e){this._a=t,this._b=e}get pointA(){return this._a}get pointB(){return this._b}equals(t){return this.includes(t.pointA)&&this.includes(t.pointB)}draw(t,n=2,s=e.Black){t.beginPath(),t.lineWidth=n,t.strokeStyle=s,t.moveTo(this._a.x,this._a.y),t.lineTo(this._b.x,this._b.y),t.stroke()}includes(t){return this.pointA.equals(t)||this.pointB.equals(t)}}const r=function(t){const e=document.createElement("canvas");return e.id="main-canvas",e.width=1e3,e.height=1e3,e.style.border="1px solid",document.body.childNodes[1].after(e),e}(),a=r.getContext("2d"),h=new i(200,200),l=new i(500,200),c=new i(400,400),d=new i(100,300),u=new o(h,l),m=new o(h,c),g=new o(h,d),_=new o(l,c),p=new class{constructor(t=[],e=[]){this._points=t,this._segments=e}get points(){return this._points.map((t=>t))}get segments(){return this._segments.map((t=>t))}tryAddPoint(t){return!this.containsPoint(t)&&(this._points.push(t),!0)}tryAddSegment(t){return!this.containsSegment(t)&&!t.pointA.equals(t.pointB)&&(this._segments.push(t),!0)}draw(t){for(const e of this._segments)e.draw(t);for(const e of this._points)e.draw(t)}containsPoint(t){return this._points.some((e=>e.equals(t)))}containsSegment(t){return this._segments.some((e=>e.equals(t)))}}([h,l,c,d],[u,m,g,_]);p.draw(a),null===(n=document.getElementById("controlls"))||void 0===n||n.children[0].addEventListener("click",(function(){const e=new i(Math.random()*r.width,Math.random()*r.height);p.tryAddPoint(e),t(a,r),p.draw(a)})),null===(s=document.getElementById("controlls"))||void 0===s||s.children[1].addEventListener("click",(function(){const e=Math.floor(Math.random()*p.points.length),n=Math.floor(Math.random()*p.points.length),s=p.points[e],i=p.points[n],h=new o(s,i);p.tryAddSegment(h),t(a,r),p.draw(a)}))})();